<taskModel about="urn:disco.wpi.edu:htnlfd:std" xmlns="http://www.cs.wpi.edu/~rich/cetask/cea-2018-ext">

	<task id="Place">

		<input name="object" type="Packages.edu.wpi.htnlfd.table.PhysObj" modified="newObject"/>

		<input name="location" type="Packages.edu.wpi.htnlfd.table.Location"/>

		<input name="referenceFrame" type="Packages.edu.wpi.htnlfd.table.PhysObj"/>

		<output name="newObject" type="Packages.edu.wpi.htnlfd.table.PhysObj"/>

		<binding slot="$this.external" value="false"/>

		<postcondition sufficient="true">

			($this.newObject == undefined || $this.object == undefined || $this.referenceFrame == undefined) ? null :

							 $this.newObject.location.equals(location_plus($this.location, $this.referenceFrame.location))

		</postcondition>

		<script>

			$this.newObject.location = location_plus($this.location, $this.referenceFrame.location);

		</script>

	</task>

	<task id="Demonstration"/>

	<script init="true">
	
		function location (x,y,z) { 
			return new Packages.edu.wpi.htnlfd.table.Location(x,y,z); 
		}

		
		function Reset(){
			DinnerPlate = new Packages.edu.wpi.htnlfd.table.Dishes("DinnerPlate", location(-10,-10,-10));
			SaladPlate = new Packages.edu.wpi.htnlfd.table.Dishes("SaladPlate", location(-10,-10,-10));
			SoupBowl = new Packages.edu.wpi.htnlfd.table.Dishes("SoupBowl", location(-10,-10,-10));
				
			Fork = new Packages.edu.wpi.htnlfd.table.Silverware("Fork", location(-10,-10,-10));
			Spoon = new Packages.edu.wpi.htnlfd.table.Silverware("Spoon", location(-10,-10,-10));
			Knife = new Packages.edu.wpi.htnlfd.table.Silverware("Knife", location(-10,-10,-10));
				
			WaterGlass = new Packages.edu.wpi.htnlfd.table.Glasses("WaterGlass", location(-10,-10,-10));
			WineGlass = new Packages.edu.wpi.htnlfd.table.Glasses("WineGlass", location(-10,-10,-10));
					
			SquareTable = new Packages.edu.wpi.htnlfd.table.PhysObj("SquareTable", location(10,10,10)); 
		}
		Reset()
		
		function location_plus (loc1, loc2) {

			return location(loc1.x+loc2.x, loc1.y+loc2.y, loc1.z+loc2.z);

		}

	</script>
	
</taskModel>
