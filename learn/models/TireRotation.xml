<taskModel about="urn:disco.wpi.edu:htnlfd:TireRotation" xmlns="http://www.cs.wpi.edu/~rich/cetask/cea-2018-ext">
	<task id="RotateTires">
		<subtasks id="rotateTires" ordered="true">
			<step name="removeTires" task="RemoveTires"/>	
			<step name="rotate" task="Rotate"/>
			<step name="screwTires" task="ScrewTires"/>		
		</subtasks>
	</task>
	
	<task id="RemoveTires">		
		
		<subtasks id="removeTires">
			<step name="removeTire1" task="RemoveTire"/>	
			<step name="removeTire2" task="RemoveTire"/>	
			<step name="removeTire3" task="RemoveTire"/>	
			<step name="removeTire4" task="RemoveTire"/>	
			
			<binding slot="$removeTire1.tire" value="Car.LFT"/>
			<binding slot="$removeTire1.wheel" value="Car.LFW"/>
			<binding slot="$removeTire2.tire" value="Car.RFT"/>
			<binding slot="$removeTire2.wheel" value="Car.RFW"/>
			<binding slot="$removeTire3.tire" value="Car.LRT"/>
			<binding slot="$removeTire3.wheel" value="Car.LRW"/>
			<binding slot="$removeTire4.tire" value="Car.RRT"/>
			<binding slot="$removeTire4.wheel" value="Car.RRW"/>
		</subtasks>		
	</task>
	
	<task id="RemoveTire">
		<input name="tire" type="Tire" modified="newTire"/>
		<input name="wheel" type="Wheel"/>
		<output name="newTire" type="Tire"/>
		
		<subtasks id="removeTire" ordered="true">
			<step name="unscrew" task="Unscrew"/>	
			<step name="remove" task="Remove"/>	

			<binding slot="$removeHubcap.tire" value="$this.tire"/>

			<binding slot="$unmountTire.wheel" value="$this.wheel"/>
			<binding slot="$this.newTire" value="$unmountTire.newTire"/>
			<binding slot="$unscrew.nut" value="$Nut.Nut1"/>
			<binding slot="$unscrew.stud" value="$Stud.Stud1"/>

		</subtasks>		
	</task>
	
	<task id="Rotate">
		<subtasks id="frontToRear">
			<step name="placeTire1" task="PlaceTire"/>	
			<step name="placeTire2" task="PlaceTire"/>	
			<step name="placeTire3" task="PlaceTire"/>	
			<step name="placeTire4" task="PlaceTire"/>
			
			<binding slot="$placeTire1.object" value="Car.T1"/>
			<binding slot="$placeTire1.fromLocation" value="Car.LF"/>
			<binding slot="$placeTire1.toLocation" value="Car.LR"/>	
			
			<binding slot="$placeTire2.object" value="Car.T2"/>
			<binding slot="$placeTire2.fromLocation" value="Car.RF"/>
			<binding slot="$placeTire2.toLocation" value="Car.RR"/>	
			
			<binding slot="$placeTire3.object" value="Car.T3"/>
			<binding slot="$placeTire3.fromLocation" value="Car.LR"/>
			<binding slot="$placeTire3.toLocation" value="Car.LF"/>	
			
			<binding slot="$placeTire4.object" value="Car.T4"/>
			<binding slot="$placeTire4.fromLocation" value="Car.RR"/>
			<binding slot="$placeTire4.toLocation" value="Car.RF"/>				
		</subtasks>
		<subtasks id="xPattern">
			<step name="placeTire1" task="PlaceTire"/>	
			<step name="placeTire2" task="PlaceTire"/>	
			<step name="placeTire3" task="PlaceTire"/>	
			<step name="placeTire4" task="PlaceTire"/>	
			
			<binding slot="$placeTire1.object" value="Car.T1"/>
			<binding slot="$placeTire1.fromLocation" value="Car.LF"/>
			<binding slot="$placeTire1.toLocation" value="Car.RR"/>	
			
			<binding slot="$placeTire2.object" value="Car.T2"/>
			<binding slot="$placeTire2.fromLocation" value="Car.RF"/>
			<binding slot="$placeTire2.toLocation" value="Car.LR"/>	
			
			<binding slot="$placeTire3.object" value="Car.T3"/>
			<binding slot="$placeTire3.fromLocation" value="Car.LR"/>
			<binding slot="$placeTire3.toLocation" value="Car.RF"/>	
			
			<binding slot="$placeTire4.object" value="Car.T4"/>
			<binding slot="$placeTire4.fromLocation" value="Car.RR"/>
			<binding slot="$placeTire4.toLocation" value="Car.LF"/>				
		</subtasks>			
	</task>

	<task id="ScrewTires">
		
		<subtasks id="screwTires">
			<step name="screwTire1" task="Screw"/>	
			<step name="screwTire2" task="Screw"/>	
			<step name="screwTire3" task="Screw"/>	
			<step name="screwTire4" task="Screw"/>	

		</subtasks>		
	</task>

	<task id="PlaceTire">
		<input name="object" type="PhysObj"/>
		<input name="fromLocation" type="Location"/>
		<input name="toLocation" type="Location"/>
		
		<subtasks id="placeTire" ordered="true">
			<step name="pickup" task="PickUp"/>
			<step name="mount" task="MountTire"/>


		</subtasks>
	</task>	

	<task id="Remove">
		
		<subtasks id="screwTire" ordered="true">
			<step name="unmount" task="UnmountTire"/>
			<step name="place" task="Place"/>


		</subtasks>
	</task>	
	
	<!-- Primitive tasks-->	

	
	<task id="Unscrew">
		<input name="nut" type="Nut" modified="newNut"/>
		<input name="stud" type="Stud"/>
		<output name="newNut" type="Nut"/>

		<script>
			
		</script>
	</task>	
	
	<task id="UnmountTire">
		<input name="tire" type="Tire" modified="newTire"/>
		<input name="wheel" type="Wheel"/>
		<output name="newTire" type="Tire"/>

		<script>
			
		</script>
	</task>	
	
	<task id="MountTire">
		<input name="tire" type="Tire" modified="newTire"/>
		<input name="wheel" type="Wheel"/>
		<output name="newTire" type="Tire"/>

		<script>
			
		</script>
	</task>	
	
	<task id="PickUp">

		<script>
			
		</script>
	</task>	
	<task id="Place">

		<script>
			
		</script>
	</task>
	<task id="Screw">
		<input name="nut" type="Nut" modified="newNut"/>
		<input name="stud" type="Stud"/>
		<output name="newNut" type="Nut"/>

		<script>
			
		</script>
	</task>	

	
	
	<!-- Scripts-->
	<script init="true">

		function reset () {
			RobotLocation = new Location(-10,-10,-10);
		}
		reset();
	</script>
  
</taskModel>
